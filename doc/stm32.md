# STM32微处理器运作原理

复位->初始化->加载程序->工作


复位一般由硬件完成, 不需要软件干预

复位类型:  
1.上电复位: 所有部件全部复位  
2.系统复位: 复位处理器和外设, 不包括调试设备  
3.处理器复位: 只复位处理器  

**处理器复位**:  
处理器复位后首先从存储器读取头两个字(主栈指针(MSP), 程序计数器(PC))

**复位处理程序**:  
MSP会首先指向启动代码(也称为启动文件)  
启动代码提供复位处理程序  
程序会初始化微控制器的硬件和软件环境，包括设置系统时钟、初始化内存、配置外设等等。  
设置一个合理的栈空间, 供用户程序使用

**用户程序**:
在复位处理程序完成后执行